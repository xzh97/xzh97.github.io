<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="xzh">


    <meta name="subtitle" content="ä½•é¡»ä»°æœ›ä»–äººï¼Œè‡ªå·±äº¦æ˜¯é£æ™¯">


    <meta name="description" content="xzhçš„ä¸ªäººåšå®¢">


    <meta name="keywords" content="xzh,åšå®¢">


<title>ã€Webpackã€‘åŸºç¡€é…ç½® | è¿½æ¢¦çš„èš‚èš</title>



    <link rel="icon" href="/favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    
    <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/gitalk/1.7.0/gitalk.min.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    
    <script src="https://cdn.bootcdn.net/ajax/libs/gitalk/1.7.0/gitalk.min.js"></script>
    



    
    
        
    


<meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="è¿½æ¢¦çš„èš‚èš" type="application/atom+xml">
</head>
<body>
    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">xzh97&#39;s Blog</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/categories">Categories</a>
                
                    <a class="menu-item" href="/tags">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>

        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">xzh97&#39;s Blog</a><a id="mobile-toggle-theme">Â·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/categories">Categories</a>
                
                    <a class="menu-item" href="/tags">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
        <div class="main">
            <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    document.ready(
        function () {
            tocbot.init({
                tocSelector: '.tocbot-list',
                contentSelector: '.post-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 1,
                orderedList: false,
                scrollSmooth: true,
            })
        }
    )

    function expand_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 6,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "collapse_toc()");
        b.innerHTML = "Collapse all"
    }

    function collapse_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 1,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "expand_toc()");
        b.innerHTML = "Expand all"
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">ã€Webpackã€‘åŸºç¡€é…ç½®</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">xzh</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">November 20, 2020&nbsp;&nbsp;11:51:23</a>
                        </span>
                    
                    
                        <span class="post-category">
                    Category:
                            
                                <a href="/categories/%E5%89%8D%E7%AB%AF/">å‰ç«¯</a>
                            
                        </span>
                    
                </div>
            
        </header>

        <div class="post-content">
            <h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€"></a>å‰è¨€</h2>
<p>é¦‹<code>webpack</code>å·²ç»å¾ˆä¹…äº†ï¼Œä»Šå¤©å°±æ¥å­¦å­¦å§ã€‚ğŸ˜œã€‚</p>
<p>ï¼ˆç¬¬ä¸€ç‰ˆå…¶å®æ˜¯2æœˆä»½çš„æ–‡ç« äº†ï¼Œä½†æ˜¯æœ€è¿‘è¿™ä¸ªæœˆå†³å®šé‡æ–°å­¦webpackï¼Œæ‰€ä»¥å†³å®šæŠŠæ—¥æœŸæ”¹æˆæœ€è¿‘çš„æ—¶é—´ï¼‰</p>
<h2 id="æ¦‚å¿µ"><a class="header-anchor" href="#æ¦‚å¿µ"></a>æ¦‚å¿µ</h2>
<p>Webpackæ˜¯ä¸€ä¸ªå‰ç«¯èµ„æºåŠ è½½/æ‰“åŒ…å·¥å…·ï¼Œä¹Ÿæ˜¯å‰ç«¯å·¥ç¨‹åŒ–çš„ä½“ç°ã€‚</p>
<h2 id="WebpackåŸºç¡€é…ç½®"><a class="header-anchor" href="#WebpackåŸºç¡€é…ç½®"></a>WebpackåŸºç¡€é…ç½®</h2>
<h3 id="mode"><a class="header-anchor" href="#mode"></a>mode</h3>
<p><code>mode</code>ç”¨æ¥å‘ŠçŸ¥<code>webpack</code>éœ€è¦é‡‡ç”¨å¯¹åº”æ¨¡å¼çš„å†…ç½®ä¼˜åŒ–ã€‚å¯ä»¥åœ¨<code>webpack.config.js</code>é‡Œè®¾ç½®ï¼Œä¹Ÿå¯ä»¥åœ¨<code>npm</code>å‘½ä»¤é‡Œæ·»åŠ  <code>--mode</code>å‚æ•°æ¥è®¾ç½®ã€‚æœ‰ä»¥ä¸‹ä¸¤ç§ï¼š</p>
<ul>
<li>development  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; webpack.development.config.js</span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">mode: &#39;development&#39;</span><br><span class="line">plugins: [</span><br><span class="line">    new webpack.NamedModulesPlugin(),</span><br><span class="line">    new webpack.DefinePlugin(&#123; &quot;process.env.NODE_ENV&quot;: JSON.stringify(&quot;development&quot;) &#125;),</span><br><span class="line">]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>production  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; webpack.production.config.js</span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">mode: &#39;production&#39;,</span><br><span class="line">plugins: [</span><br><span class="line">    new UglifyJsPlugin(&#x2F;* ... *&#x2F;),</span><br><span class="line">    new webpack.DefinePlugin(&#123; &quot;process.env.NODE_ENV&quot;: JSON.stringify(&quot;production&quot;) &#125;),</span><br><span class="line">    new webpack.optimize.ModuleConcatenationPlugin(),</span><br><span class="line">    new webpack.NoEmitOnErrorsPlugin()</span><br><span class="line">]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>è®¾ç½®modeæ—¶åŒæ—¶ä¼šæŠŠ process.env.NODE_ENVè®¾ç½®ä¸ºå½“å‰ç¯å¢ƒçš„å€¼</strong></p>
<h4 id="entry"><a class="header-anchor" href="#entry"></a>entry</h4>
<p><code>entry</code>å…¶å®å°±æ˜¯æŒ‡å®š<code>webpack</code>è¯»å–é¡¹ç›®çš„èµ·å§‹ç‚¹ï¼Œé…ç½®æ–¹å¼æœ‰ä»¥ä¸‹è¿™äº›ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">    <span class="comment">// å•å…¥å£</span></span><br><span class="line">    entry: <span class="string">'./entry1'</span>,</span><br><span class="line">    <span class="comment">//å¤šå…¥å£</span></span><br><span class="line">    entry: [</span><br><span class="line">        <span class="string">'./entry1'</span>,</span><br><span class="line">        <span class="string">'./entry2'</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="comment">// å¤šå…¥å£æ—¶</span></span><br><span class="line">    entry:&#123;</span><br><span class="line">        a: <span class="string">'./entry1'</span>,</span><br><span class="line">        <span class="comment">//è‹¥bæœ‰å¤šä¸ªå…¥å£</span></span><br><span class="line">        b: [<span class="string">'./entry2-a'</span>, <span class="string">'./entry2-b'</span>,],</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="loader"><a class="header-anchor" href="#loader"></a>loader</h3>
<p>é¦–å…ˆï¼Œ<code>webpack</code>æœ¬èº«çš„æ‰“åŒ…åªæ˜¯å¯¹jsæ–‡ä»¶çš„æ‰“åŒ…ï¼Œé‚£ä¹ˆéjsæ–‡ä»¶æ€ä¹ˆæ‰“åŒ…è¿›æ¥å‘¢ï¼Ÿè¿™ä¸ªæ—¶å€™<code>loader</code>çš„ä½œç”¨å°±ä½“ç°å‡ºæ¥äº†ã€‚<code>loader</code>å°±æ˜¯ä¸€ä¸ªè½¬è¯‘å™¨ï¼Œ<strong>å®ƒå¯ä»¥æŠŠéjsæ–‡ä»¶è¿›è¡Œå¤„ç†ï¼Œç„¶åä½¿å¾—éjsæ–‡ä»¶å¯ä»¥è¿›å…¥æ„å»ºåŒ…å†…ã€‚</strong></p>
<p><a href="https://www.webpackjs.com/api/loaders/" target="_blank" rel="noopener">æƒ³äº†è§£æ›´å¤šçš„loaderä¿¡æ¯å¯ç‚¹å‡»æ­¤å¤„</a></p>
<p>é‚£ä¹ˆå¦‚ä½•ä½¿ç”¨<code>loader</code>å‘¢ï¼Ÿ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">    modules:&#123;</span><br><span class="line">        rules:[</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.css$/</span>, </span><br><span class="line">                <span class="comment">// 1. loaderä¸éœ€è¦åšå…¶å®ƒé…ç½®æ—¶</span></span><br><span class="line">                use: <span class="string">'css-loader'</span>,</span><br><span class="line">                <span class="comment">// 2. loaderéœ€è¦ä¼ å…¥å‚æ•°é…ç½®</span></span><br><span class="line">                use: [</span><br><span class="line">                    loader: <span class="string">'css-loader'</span>,</span><br><span class="line">                    options:&#123;</span><br><span class="line">                        modules: <span class="literal">true</span></span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            </span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å…¶å®è¿˜å¯ä»¥åœ¨<code>cli</code>å‘½ä»¤é‡ŒåŠ å…¥ä»¥ä¸‹<code>--module bind 'css=style-loader!css-loader'</code>ä»¥åŠåœ¨æºç ä¸­ç›´æ¥å¯¼å…¥ <code>loader</code>çš„ä¸œè¥¿ï¼Œä½†æ˜¯è¿™ä¸¤ç§æ–¹å¼éƒ½ä¸å¤ªå¥½ï¼Œå®¹æ˜“å¯¼è‡´æ„å¤–çš„é”™è¯¯ä¸”ä¸æ˜“è°ƒè¯•ã€‚</p>
<p>æ‰€ä»¥è¿˜æ˜¯æ¨èå†™åœ¨<code>modules.rules</code>ã€‚</p>
<p>è¿™é‡Œå°±ç®€å•åˆ—ä¸¾ä¸€äº›å¸¸ç”¨çš„loader</p>
<ul>
<li><code>css-loader</code>: è§£æ<code>css</code>æ–‡ä»¶</li>
<li><code>style-loader</code>: æŠŠè§£æå¥½çš„<code>css</code>ç”¨<code>style</code>æ ‡ç­¾æ˜¾ç¤ºå‡ºæ¥</li>
<li><code>babel-loader</code>: æŠŠ<code>es6</code>åŠä¹‹åçš„è¯­æ³•è§£ææˆ<code>es5</code>è¯­æ³•ï¼Œæœ€å¤§çš„ä½œç”¨å°±æ˜¯å…¼å®¹æµè§ˆå™¨ã€‚</li>
<li><code>url-loader</code>,<code>file-loader</code>: <code>webpack</code>åŠ è½½å›¾ç‰‡, <code>url-loader</code>æ›´åƒæ˜¯<code>file-loader</code>çš„å¢å¼ºç‰ˆã€‚å½“è®¾ç½®<code>limit</code>æ—¶ï¼Œè¶…å‡ºæ­¤èŒƒå›´åˆ™ç”¨<code>file-loader</code>è§£æï¼Œå°äºåˆ™è¿”å›<code>base64</code>æ ¼å¼ã€‚</li>
<li><code>raw-loader</code>: è¯»å–æ–‡ä»¶å†…çš„å†…å®¹ï¼Œå¹¶ä½œä¸ºå­—ç¬¦ä¸²è¿”å›</li>
<li><code>sass-loader</code>,<code>less-loader</code>: cssé¢„ç¼–è¯‘æ–‡ä»¶è§£æã€‚</li>
<li><code>vue-loader</code>: è§£æ<code>.vue</code>æ–‡ä»¶</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">    modulesï¼š&#123;</span><br><span class="line">        rules:[</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.scss$/</span>,</span><br><span class="line">                use:[<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>, <span class="string">'scss-loader'</span>]</span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è°ƒç”¨å¤šä¸ªloaderæ—¶æ˜¯æœ‰é¡ºåºçš„ï¼Œé¡ºåºæ˜¯ä»å³åˆ°å·¦ã€‚ä½†å®é™…è°ƒç”¨è¿‡ç¨‹ä¸Šå¦‚ä¸‹æ‰€ç¤º</span></span><br><span class="line"><span class="comment">// pitchæ–¹æ³•æ„ä¸ºè·³è¿‡</span></span><br><span class="line">|- a-loader <span class="string">`pitch`</span></span><br><span class="line">  |- b-loader <span class="string">`pitch`</span></span><br><span class="line">    |- c-loader <span class="string">`pitch`</span></span><br><span class="line">      |- requested <span class="built_in">module</span> is picked up <span class="keyword">as</span> a dependency</span><br><span class="line">    |- c-loader normal execution</span><br><span class="line">  |- b-loader normal execution</span><br><span class="line">|- a-loader normal execution</span><br></pre></td></tr></table></figure>
<h3 id="plugins"><a class="header-anchor" href="#plugins"></a>plugins</h3>
<p>é¦–å…ˆï¼Œ<code>plugin</code>çš„æœºåˆ¶æ¥è¯´æˆ‘ä¸ªäººè§‰å¾—å’Œæµè§ˆå™¨å†…çš„äº¤äº’äº‹ä»¶å…¶å®æ¯”è¾ƒç±»ä¼¼ã€‚å› ä¸º<code>webpack</code>åœ¨è¿è¡Œå‘¨æœŸæ—¶åŒæ ·ä¼šæœ‰å¾ˆå¤šçš„äº‹ä»¶ï¼Œæ‰€ä»¥<code>plugins</code>çš„ä½œç”¨å¯ä»¥ç±»æ¯”äºæˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­å¯¹å…ƒç´ çš„äº‹ä»¶ç›‘å¬å¤„ç†ã€‚å…¶å®å°±æ˜¯æˆ‘ä»¬è°ƒç”¨<code>webpack</code>çš„åº•å±‚<code>api</code>æ¥ç¼–å†™å…·ä½“åŠŸèƒ½çš„å®ç°ã€‚å®ƒå¯ä»¥æ˜¯ä¸€ä¸ªæ„å»ºæ—¶çš„å¤„ç†ï¼Œä¹Ÿå¯ä»¥æ˜¯å¯¹è¾“å‡ºç»“æœçš„ä¼˜åŒ–ï¼ˆå…¶å®å°±æ˜¯æ‰“åŒ…ä¼˜åŒ–ï¼‰ï¼Œè¿˜å¯ä»¥å¯¹å¼•å…¥èµ„æºè¿›è¡Œç®¡ç†ã€‚ä»è¿™é‡Œæ¥çœ‹ï¼Œ<code>plugins</code>çš„åŠŸèƒ½èŒƒå›´å¯¹æ¯”èµ·<code>loader</code>æ¥è¯´æ˜¯æ›´åŠ å¹¿æ³›çš„ã€‚</p>
<p><a href="https://www.webpackjs.com/api/plugins/" target="_blank" rel="noopener">æƒ³äº†è§£æ›´å¤šçš„pluginsä¿¡æ¯å¯ç‚¹å‡»æ­¤å¤„</a></p>
<p>é‚£ä¹ˆå¦‚ä½•ä½¿ç”¨<code>plugins</code>å‘¢ï¼Ÿ å…¶å®åªéœ€è¦åœ¨<code>webpack.config.js</code>é‡Œçš„<code>plugins</code>å‚æ•°é‡Œè®¾ç½®å°±å¯ä»¥äº†ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>);</span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">    plugins:[</span><br><span class="line">        <span class="comment">// å¼•å…¥æ’ä»¶ç„¶ååœ¨è¿™é‡Œä¼ å…¥æ’ä»¶çš„å®ä¾‹åŒ–å¯¹è±¡ï¼Œ</span></span><br><span class="line">        <span class="comment">// new plugin(&#123;//æ’ä»¶å‚æ•°...&#125;)</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ä¸¾ä¸ªå…·ä½“çš„æ —å­ï¼š</span></span><br><span class="line">        <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">            template: <span class="string">'./index.html'</span>,</span><br><span class="line">            </span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸‹åˆ—ä¸¾ä¸€äº›å¸¸ç”¨çš„æ’ä»¶ï¼š</p>
<ul>
<li><code>mini-css-extract-plugin</code> &amp; <code>extract-text-webpack-plugin</code>
<ul>
<li>ä½œç”¨ï¼šæŠ½ç¦»<code>css</code>åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­å¹¶ä»¥<code>link</code>å¼•å…¥åˆ°<code>html</code>ä¸­ä½¿ç”¨ã€‚</li>
<li>ä½¿ç”¨ï¼š<code>webpack &gt;= 4.0 ? mini-css-extract-plugin : extract-text-webpack-plugin</code></li>
</ul>
</li>
<li><code>html-webpack-plugin</code>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">plugins:[</span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">        template: <span class="string">'./index.html'</span>, <span class="comment">// æ¨¡æ¿html,</span></span><br><span class="line">        filename: <span class="string">'index.html'</span>, <span class="comment">// ç›®æ ‡html</span></span><br><span class="line">    &#125;)</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
</li>
<li><code>mini-css-extract-plugin</code>
<ul>
<li>æ‰“åŒ…çš„æ—¶å€™æå–<code>css</code>åˆ°å•ç‹¬çš„æ–‡ä»¶ï¼Œå¹¶ä¸”æ”¯æŒæŒ‰éœ€åŠ è½½å’Œ<code>sourceMap</code></li>
</ul>
</li>
<li><code>progress-bar-webpack-plugin</code>
<ul>
<li><code>vue-cli 3</code>æ‰“åŒ…çš„æ—¶å€™æ— æ³•æ˜¾ç¤ºå‡ºæ‰“åŒ…æ‰€èŠ±è´¹çš„æ—¶é—´ï¼ŒåŠ è¿™ä¸ªå¯ä»¥æ˜¾ç¤ºå‡ºæ¥</li>
</ul>
</li>
<li><code>purge-css-webpack-plugin</code>
<ul>
<li>åˆ é™¤æœªä½¿ç”¨çš„<code>css</code></li>
</ul>
</li>
<li><code>DLLPluginå’ŒDLLReferencePlugin</code>
<ul>
<li><code>DLLPlugin</code>ä¸»è¦ä½œç”¨æ˜¯æŠŠä¸€äº›ä¸ç»å¸¸å˜åŒ–çš„ç¬¬ä¸‰æ–¹åº“å•ç‹¬æ‰“åŒ…å‡ºæ¥ï¼Œç„¶åä¼šç”Ÿæˆä¸€ä¸ª<code>manifest.json</code>ï¼Œç„¶åé€šè¿‡<code>DLLReferencePlugin</code>å»å¼•ç”¨ã€‚å¯ä»¥æå‡æ„å»ºé€Ÿåº¦</li>
</ul>
</li>
<li><code>add-asset-html-webpack-plugin</code>
<ul>
<li>é¡µé¢æ‰“åŒ…åï¼Œæ’å…¥æˆ‘ä»¬ç‰¹å®š<code>script</code>çš„å¼•ç”¨ï¼Œæ¥è¾¾åˆ°å…¨å±€å˜é‡çš„æ•ˆæœï¼ˆæš´éœ²åœ¨<code>Window</code>ä¸‹ï¼‰</li>
</ul>
</li>
<li><code>commons-chunk-plugin</code>&amp;<code>split-chunk-plugin</code>
<ul>
<li>ä¸¤è€…ä¸»è¦æ˜¯ç”¨æ¥æå–ç¬¬ä¸‰æ–¹åº“å’Œå…¬å…±æ¨¡å—ä»£ç ï¼Œé¿å…é¦–å±åŠ è½½çš„bundleæ–‡ä»¶æˆ–è€…æŒ‰éœ€åŠ è½½çš„bundleæ–‡ä»¶ä½“ç§¯è¿‡å¤§ï¼Œä»è€Œå¯¼è‡´åŠ è½½æ—¶é—´è¿‡é•¿ã€‚</li>
<li>åè€…æ˜¯å‰è€…çš„å‡çº§ç‰ˆï¼Œè§£å†³äº†å‰è€…åœ¨æå–å…¬å…±ä»£ç çš„é‡å¤é—®é¢˜ã€‚ä¸”webpack4ä¸­å·²ç»åˆ é™¤äº†<code>commons-chunk-plugin</code>æ”¹ç”¨äº†<code>split-chunk-plugin</code>ã€‚</li>
</ul>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; commonså’Œsplitçš„å¯¹æ¯”</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; commons-chunk-plugin</span><br><span class="line">chunk-a: react, react-dom, a-comp</span><br><span class="line">chunk-b: react, react-dom, b-comp</span><br><span class="line">&#x2F;&#x2F; ä¼šå‡ºç°é‡å¤ä»£ç </span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; split-chunk-plugin</span><br><span class="line">chunk-a ~ chunk-b : react, react-dom,</span><br><span class="line">chunk-a: a-comp</span><br><span class="line">chunk-b: b-comp</span><br><span class="line">&#x2F;&#x2F; ä¸ä¼šå‡ºç°é‡å¤ä»£ç </span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="resolve"><a class="header-anchor" href="#resolve"></a>resolve</h3>
<p><code>resolve</code>çš„ä½œç”¨æ˜¯è®¾ç½®æ¨¡å—æ€ä¹ˆè¢«è§£æï¼Œæ•°æ®ç»“æ„æ˜¯<code>Object</code>ã€‚æ¥ä¸‹æ¥åˆ—ä¸¾ä¸€äº›æ¯”è¾ƒå¸¸ç”¨çš„å±æ€§ã€‚</p>
<h4 id="alias"><a class="header-anchor" href="#alias"></a>alias</h4>
<p><code>alias</code>ä½œç”¨æ˜¯è®¾ç½®åˆ«åï¼Œå¯ä»¥ä½¿å¾—å¼•å…¥æ¨¡å—å˜å¾—æ›´åŠ ç®€å•ã€‚ä¸¾ä¸ªæ —å­ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é…ç½®</span></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">    resolve:&#123;</span><br><span class="line">        alias:&#123;</span><br><span class="line">            <span class="comment">// path.resolveæ¥ç¡®å®šå¼•å…¥è·¯å¾„ä¸ä¼šå‡ºé—®é¢˜</span></span><br><span class="line">            <span class="string">"@"</span>: path.resolve(__dirname, <span class="string">'./src'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼•å…¥æ¨¡å—æ—¶</span></span><br><span class="line"><span class="keyword">import</span> HomeView <span class="keyword">from</span> <span class="string">'@/views/home/index.vue'</span>;</span><br></pre></td></tr></table></figure>
<h4 id="extensions"><a class="header-anchor" href="#extensions"></a>extensions</h4>
<p><code>extensions</code>ä½œç”¨æ˜¯è‡ªåŠ¨æ‰©å±•ï¼Œå¯ä»¥è‡ªåŠ¨è§£æç¡®å®šçš„æ‰©å±•ã€‚ä¸¾ä¸ªæ —å­ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é…ç½®</span></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">    resolve:&#123;</span><br><span class="line">        <span class="comment">// é»˜è®¤é€‰é¡¹æ˜¯.js .json</span></span><br><span class="line">        extensions: [<span class="string">'.js'</span>, <span class="string">'json'</span>, <span class="string">'.vue'</span>],</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼•å…¥æ¨¡å—æ—¶å¯ä»¥ä¸æŒ‡å®šæ‰©å±•ï¼ˆä¹Ÿå°±æ˜¯æ–‡ä»¶åç¼€åï¼‰</span></span><br><span class="line"><span class="keyword">import</span> HomeView <span class="keyword">from</span> <span class="string">'@/views/home/index'</span>;</span><br></pre></td></tr></table></figure>
<h4 id="modules"><a class="header-anchor" href="#modules"></a>modules</h4>
<p><code>modules</code>ä½œç”¨æ˜¯å‘Šè¯‰webpackè§£ææ—¶åº”è¯¥æœç´¢çš„ç›®å½•ã€‚ä¸¾ä¸ªæ —å­ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é…ç½®</span></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">    resolve:&#123;</span><br><span class="line">        <span class="comment">// æ„æ€æ˜¯webpackæœç´¢ç›®å½•ä¼˜å…ˆæ‰¾srcç›®å½•ä¸‹çš„ï¼Œæ²¡æœ‰å†ä»node_modulesæ‰¾</span></span><br><span class="line">        modules: [path.resolve(__dirname, <span class="string">'./src/'</span>), <span class="string">'node_modules'</span>]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ­¤æ—¶ä¹Ÿå¯ä»¥ä¸å†™å‰é¢çš„ '@/'ï¼Œå’Œaliasæœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™</span></span><br><span class="line"><span class="keyword">import</span> HomeView <span class="keyword">from</span> <span class="string">'views/home/index.vue'</span>;</span><br></pre></td></tr></table></figure>
<h3 id="devServer"><a class="header-anchor" href="#devServer"></a>devServer</h3>
<p><code>devServer</code>æ˜¯å¼€å‘ä¸­ç”¨æ¥å¯åŠ¨æœ¬åœ°æœåŠ¡ï¼Œæ–¹ä¾¿å¼€å‘ã€‚ä¸‹é¢ä¸¾ä¸ªæ —å­æ¥è¯´æ˜å„å±æ€§ä½œç”¨ğŸ˜‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é…ç½®</span></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">    devServer: &#123;</span><br><span class="line">        open: <span class="literal">false</span>, <span class="comment">// æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span></span><br><span class="line">        port: <span class="number">8080</span>, <span class="comment">// æœ¬åœ°æœåŠ¡å¯ç”¨ç«¯å£</span></span><br><span class="line">        <span class="comment">// webpackä¸­æœ‰ä¸€ä¸ªhotModuleReplacementPlugin, hoté€‰é¡¹å…¶å®å°±å¯ä»¥å½“ä½œæ˜¯å¦å¯ç”¨äº†è¿™ä¸ªæ’ä»¶ã€‚</span></span><br><span class="line">        hot: <span class="literal">true</span>, <span class="comment">// æ˜¯å¦å¯ç”¨çƒ­æ›´æ–°</span></span><br><span class="line">        compress: <span class="literal">true</span>, <span class="comment">// æ˜¯å¦å¯ç”¨gzipå‹ç¼©</span></span><br><span class="line">        https: <span class="literal">true</span>, <span class="comment">// æ˜¯å¦å¯ç”¨https</span></span><br><span class="line">        <span class="comment">// æ˜¯å¦å¼€å¯ä»£ç†</span></span><br><span class="line">        proxy: &#123;</span><br><span class="line">            <span class="string">'/api'</span>: &#123;</span><br><span class="line">                target: <span class="string">'localhost:3000/'</span>, <span class="comment">// å¯¹åº”è‡ªå·±çš„åç«¯æ¥å£</span></span><br><span class="line">                changeOrigin: <span class="literal">true</span>, <span class="comment">// è¯·æ±‚å¤´ä¸­æ˜¾ç¤ºtarget</span></span><br><span class="line">                ws: <span class="literal">true</span>, <span class="comment">// æ˜¯å¦ä»£ç†websocket</span></span><br><span class="line">                pathRewrite: &#123;</span><br><span class="line">                  <span class="string">'^/api'</span>: <span class="string">''</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// æ˜¯å¦æŒ‡å®šé™æ€æ–‡ä»¶ç›®å½•ï¼Œ</span></span><br><span class="line">        contentBase: path.join(__dirname, <span class="string">"public"</span>), </span><br><span class="line">        publicPath: <span class="string">'/'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="externals"><a class="header-anchor" href="#externals"></a>externals</h3>
<p>æŒ‰ç…§<code>webpack</code>å®˜ç½‘é‡Œçš„è§£é‡Šï¼Œå¦‚æœæˆ‘ä»¬æƒ³å¼•ç”¨ä¸€ä¸ªåº“ï¼Œä½†æ˜¯åˆä¸æƒ³æŠŠ<code>webpack</code>æŠŠå®ƒæ‰“è¿›åŒ…é‡Œä¸”æˆ‘ä»¬å¸Œæœ›å¯ä»¥æ­£å¸¸å¼•ç”¨è¿™ä¸ªåº“ã€‚è¿™ä¸ªæ—¶å€™å°±å¯ä»¥ä½¿ç”¨<code>externals</code>é…ç½®ã€‚ä¾‹å¦‚å®˜ç½‘ä¸­çš„æ —å­ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.html</span></span><br><span class="line">&lt;script</span><br><span class="line">  src=<span class="string">"https://code.jquery.com/jquery-3.1.0.js"</span></span><br><span class="line">  integrity=<span class="string">"sha256-slogkvB1K3VOkzAI8QITxV3VzpOnkeNVsKvtkYLMjfk="</span></span><br><span class="line">  crossorigin=<span class="string">"anonymous"</span>&gt;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/webpack.config.js</span></span><br><span class="line"><span class="regexp">const config = &#123;</span></span><br><span class="line"><span class="regexp">    externals: &#123;</span></span><br><span class="line"><span class="regexp">        jquery: jQuery</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ å¼•ç”¨</span></span><br><span class="line"><span class="regexp">import $ from 'jquery';</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">$('.my-element').animate(...);</span></span><br></pre></td></tr></table></figure>
<h2 id="ç›¸å…³æ–‡ç« "><a class="header-anchor" href="#ç›¸å…³æ–‡ç« "></a>ç›¸å…³æ–‡ç« </h2>
<p><a href="https://xzh97.github.io/2020/12/03/learn-webpack-optimization/">ã€Webpackã€‘é¡¹ç›®ä¼˜åŒ–</a></p>
<h2 id="æ€»ç»“"><a class="header-anchor" href="#æ€»ç»“"></a>æ€»ç»“</h2>
<p>å…¶å®çœ‹äº†è¿™äº›é…ç½®ï¼ŒåŸºç¡€çš„webpacké…ç½®å·²ç»æ²¡æœ‰å•¥å¤§é—®é¢˜äº†ã€‚è¿˜æœ‰ä¸€äº›æ¯”è¾ƒå°çš„ç‚¹å°±æ²¡å†™äº†ï¼Œä¹‹åæœ‰ç–‘é—®ä¹Ÿå¯ä»¥å»<a href="https://www.webpackjs.com/concepts/" target="_blank" rel="noopener">webpackä¸­æ–‡ç½‘</a>æŸ¥çœ‹å¯¹åº”éƒ¨åˆ†é…ç½®ã€‚</p>

        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>xzh</span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>Permalink:</span>
                        <span><a href="https://xzh97.github.io/2020/11/20/learn-webpack/">https://xzh97.github.io/2020/11/20/learn-webpack/</a></span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>License:</span>
                        <span>Copyright (c) 2019 <a href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC-BY-NC-4.0</a> LICENSE</span>
                    </p>
                
                
                     <p class="copyright-item">
                         <span>Slogan:</span>
                         <span>æœ€æ˜¯äººé—´å­¤æ„¤éš¾å¹³ï¼Œç›´æ¶ˆå¾—å‡ å›æ½®è½åˆæ½®ç”Ÿï¼</span>
                     </p>
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/webpack/"># webpack</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>Â· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/2020/12/03/learn-webpack-optimization/">ã€Webpackã€‘é¡¹ç›®ä¼˜åŒ–</a>
            
            
            <a class="next" rel="next" href="/2020/08/23/information-safe/">ä¿¡æ¯å®‰å…¨å­¦ä¹ </a>
            
        </section>

        
        
        <script type="text/javascript" async>
    let gitalkContainer = document.createElement('div')
    let postWrap = document.querySelector('.post-wrap');
    gitalkContainer.id = 'gitalk-container'
    postWrap.appendChild(gitalkContainer);
    let params = {
    clientID: '73f1c80bba01cb73e53d',
    clientSecret: 'fb38d78684a17e97a441a4cd0db47dc642423678',
    repo: 'xzh97.github.io',
    admin: ['xzh97'],
    id: window.location.pathname,
    owner: 'xzh97',
    distractionFreeMode: false,
    }
    let gitalk = new Gitalk(params)
    gitalk.render('gitalk-container')
</script>
        

    </article>
</div>

        </div>
        <footer id="footer" class="footer">
    <div class="copyright">
        <span>Â© xzh | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span>
    </div>
</footer>

    </div>
</body>
</html>
